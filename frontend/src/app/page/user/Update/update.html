<div class="row">
  <app-dialog
    title="Ubah Data User"
    [(opened)]="isDialogOpen"
    (submitted)="submitForm()"
    (closed)="closeDialog()"
  >
    @if (id) {
    <p class="text-muted mb-4"><strong>ID User:</strong> {{ id }}</p>
    }
    <form [formGroup]="formUser">
      <div class="form-group mb-3">
        <label>Username</label>
        <input formControlName="username" type="text" class="form-control" />
        @if(formUser.get('username')?.touched && formUser.get('username')?.invalid) {
        <div class="text-danger">Username harus diisi.</div>
        }
      </div>

      <div class="form-group mb-3">
        <label>Email</label>
        <input formControlName="email" type="email" class="form-control" />
        @if(formUser.get('email')?.touched && formUser.get('email')?.invalid) {
        <div class="text-danger">Email harus diisi dan valid.</div>
        }
      </div>

      <div class="form-group mb-3">
        <label>Role</label>
        <select formControlName="role" class="form-control">
          <option [ngValue]="null">-- Pilih Role --</option>
          <option [ngValue]="'ADMIN'">ADMIN</option>
          <option [ngValue]="'DOKTER'">DOKTER</option>
          <option [ngValue]="'PERAWAT'">PERAWAT</option>
          <option [ngValue]="'KASIR'">KASIR</option>
        </select>
        @if(formUser.get('role')?.touched && formUser.get('role')?.invalid) {
        <div class="text-danger">Role harus diisi.</div>
        }
      </div>

      <div class="form-group mb-3">
        <label>Password (Kosongkan jika tidak ingin mengubah)</label>
        <input formControlName="password" type="password" class="form-control" placeholder="Kosongkan jika tidak ingin mengubah" />
      </div>

      <div class="form-group mb-3">
        <label>
          <input formControlName="isActive" type="checkbox" />
          Aktif
        </label>
      </div>
    </form>
  </app-dialog>
</div>
